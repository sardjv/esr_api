(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(2),i=n(6),r=(n(0),n(76)),o={id:"quickstart",title:"Quickstart",slug:"quickstart"},c={unversionedId:"quickstart",id:"quickstart",isDocsHomePage:!1,title:"Quickstart",description:"Any server or computer running this software MUST be totally secure, accessible only to privileged users, and administered by a professional sysadmin, as it will grant total access to ALL personally identifiable ESR data that is imported into it. The Docker environment is not inherently secure, and passwords set in the .env file are available on the host, as well as downloaded .DAT files containing ALL user data.",source:"@site/docs/quickstart.md",slug:"/quickstart",permalink:"/esr_api/docs/quickstart",editUrl:"https://github.com/sardjv/esr_api/docs/quickstart.md",version:"current",sidebar:"someSidebar",next:{title:"Technical Overview",permalink:"/esr_api/docs/overview"}},l=[{value:".env file",id:"env-file",children:[]},{value:"Booting up",id:"booting-up",children:[]},{value:"Create the first Admin",id:"create-the-first-admin",children:[]},{value:"Set up the FTP Connection",id:"set-up-the-ftp-connection",children:[]},{value:"Create an API Token",id:"create-an-api-token",children:[]},{value:"Use the API",id:"use-the-api",children:[]}],s={rightToc:l};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"  Any server or computer running this software MUST be totally secure, accessible only to privileged users, and administered by a professional sysadmin, as it will grant total access to ALL personally identifiable ESR data that is imported into it. The Docker environment is not inherently secure, and passwords set in the .env file are available on the host, as well as downloaded .DAT files containing ALL user data."))),Object(r.b)("h3",{id:"env-file"},".env file"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To get started, you need a ",Object(r.b)("inlineCode",{parentName:"li"},".env")," file with secrets."),Object(r.b)("li",{parentName:"ul"},"Generate it with the command ",Object(r.b)("inlineCode",{parentName:"li"},"sh ./script/generate_env_file.sh"),".")),Object(r.b)("h3",{id:"booting-up"},"Booting up"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"docker-compose up\n")),Object(r.b)("p",null,"It can then be accessed at ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"http://localhost:3001/"}),"http://localhost:3001/"),"."),Object(r.b)("h3",{id:"create-the-first-admin"},"Create the first Admin"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'Click "Create an account" and enter your details.'),Object(r.b)("li",{parentName:"ul"},"Admins can access ALL user data so this must be a highly privileged account with a very strong password. You will be immediately logged in."),Object(r.b)("li",{parentName:"ul"},"Any subsequent admin that signs up must be manually approved by an existing admin, via the Admins page, clicking Edit and then Activated and Update User.")),Object(r.b)("h3",{id:"set-up-the-ftp-connection"},"Set up the FTP Connection"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You need to add the FTP connection details for your trust in order to use the API."),Object(r.b)("li",{parentName:"ul"},'Click "Ftp Credentials".'),Object(r.b)("li",{parentName:"ul"},'Click "New ftp credential".'),Object(r.b)("li",{parentName:"ul"},'Enter your FTP connection details and press "Create Ftp credential".'),Object(r.b)("li",{parentName:"ul"},"This will immediately send a request file to the FTP server ",Object(r.b)("inlineCode",{parentName:"li"},"/In")," directory for the initial seed data."),Object(r.b)("li",{parentName:"ul"},"From this point the API will attempt to fetch and import new data from the FTP server each day at 8am.")),Object(r.b)("h3",{id:"create-an-api-token"},"Create an API Token"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Each client application requires a Token to use the API."),Object(r.b)("li",{parentName:"ul"},'Click "API Tokens".'),Object(r.b)("li",{parentName:"ul"},'Click "New token".'),Object(r.b)("li",{parentName:"ul"},"Give the token a name to identify which client application will use the token."),Object(r.b)("li",{parentName:"ul"},"Add permissions to give access to the data that the client application requires."),Object(r.b)("li",{parentName:"ul"},"Click Create Token."),Object(r.b)("li",{parentName:"ul"},"You will be able to view the secret token only once. Be very careful with it as it grants unimpeded access to confidential user data."),Object(r.b)("li",{parentName:"ul"},"Securely add to your client application so that it can use the API.")),Object(r.b)("h3",{id:"use-the-api"},"Use the API"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The API documentation can be viewed at ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"http://localhost:3001/api_docs"}),"http://localhost:3001/api_docs"),"."),Object(r.b)("li",{parentName:"ul"},'You can use this page to test the API - click "Authorize" and add a Token.'),Object(r.b)("li",{parentName:"ul"},'Click on an endpoint and click "Try it out" and "Execute" to get a response.')))}u.isMDXComponent=!0},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),u=function(e){var t=i.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=u(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(n),b=a,m=d["".concat(o,".").concat(b)]||d[b]||p[b]||r;return n?i.a.createElement(m,c(c({ref:t},s),{},{components:n})):i.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var s=2;s<r;s++)o[s]=n[s];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);