(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{69:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return d}));var n=a(2),i=a(6),r=(a(0),a(77)),o={id:"quickstart",title:"Quickstart",slug:"quickstart"},c={unversionedId:"quickstart",id:"quickstart",isDocsHomePage:!1,title:"Quickstart",description:"Any server or computer running this software MUST be totally secure, accessible only to privileged users, and administered by a professional sysadmin, as it will grant total access to ALL personally identifiable ESR data that is imported into it. The Docker environment is not inherently secure, and passwords set in the .env file are available on the host, as well as downloaded .DAT files containing ALL personally identifiable data.",source:"@site/docs/quickstart.md",slug:"/quickstart",permalink:"/esr_api/docs/quickstart",editUrl:"https://github.com/sardjv/esr_api/docs/quickstart.md",version:"current",sidebar:"someSidebar",next:{title:"Technical Overview",permalink:"/esr_api/docs/overview"}},l=[{value:".env file",id:"env-file",children:[]},{value:"Booting up",id:"booting-up",children:[]},{value:"Create the first Admin",id:"create-the-first-admin",children:[]},{value:"Set up the FTP Connection",id:"set-up-the-ftp-connection",children:[]},{value:"Create an API Token",id:"create-an-api-token",children:[]},{value:"Use the API",id:"use-the-api",children:[]}],s={rightToc:l};function d(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"  Any server or computer running this software MUST be totally secure, accessible only to privileged users, and administered by a professional sysadmin, as it will grant total access to ALL personally identifiable ESR data that is imported into it. The Docker environment is not inherently secure, and passwords set in the .env file are available on the host, as well as downloaded .DAT files containing ALL personally identifiable data."))),Object(r.b)("h3",{id:"env-file"},".env file"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To get started, you need a ",Object(r.b)("inlineCode",{parentName:"li"},".env")," file with secrets."),Object(r.b)("li",{parentName:"ul"},"Generate it with the command ",Object(r.b)("inlineCode",{parentName:"li"},"sh ./script/generate_env_file.sh"),".")),Object(r.b)("h3",{id:"booting-up"},"Booting up"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"docker-compose up\n")),Object(r.b)("p",null,"It can then be accessed at ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"http://localhost:3001/"}),"http://localhost:3001/"),"."),Object(r.b)("h3",{id:"create-the-first-admin"},"Create the first Admin"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'Click "Create an account" and enter your details.'),Object(r.b)("li",{parentName:"ul"},"Admins can access ALL user data so this must be a highly privileged account with a very strong password. You will be immediately logged in."),Object(r.b)("li",{parentName:"ul"},"Any subsequent admin that signs up must be manually approved by an existing admin, via the Admins page, clicking Edit and then Activated and Update User.")),Object(r.b)("h3",{id:"set-up-the-ftp-connection"},"Set up the FTP Connection"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You need to add the FTP connection details for your trust in order to use the API."),Object(r.b)("li",{parentName:"ul"},'Click "Ftp Credentials".'),Object(r.b)("li",{parentName:"ul"},'Click "New ftp credential".'),Object(r.b)("li",{parentName:"ul"},'Enter your FTP connection details and press "Create Ftp credential".'),Object(r.b)("li",{parentName:"ul"},"This will immediately send a request file to the FTP server ",Object(r.b)("inlineCode",{parentName:"li"},"/In")," directory for the initial seed data."),Object(r.b)("li",{parentName:"ul"},"From this point the API will attempt to fetch and import new data from the FTP server each day at 8am.")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Note: if your trust is already using the FTP service, you may need to change the filename of the seed request to match the time of the last delta. ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/esr_api/docs/quickstart"}),"Click here for more info.")))),Object(r.b)("h3",{id:"create-an-api-token"},"Create an API Token"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Each client application requires a Token to use the API."),Object(r.b)("li",{parentName:"ul"},'Click "API Tokens".'),Object(r.b)("li",{parentName:"ul"},'Click "New token".'),Object(r.b)("li",{parentName:"ul"},"Give the token a name to identify which client application will use the token."),Object(r.b)("li",{parentName:"ul"},"Add permissions to give access to the data that the client application requires."),Object(r.b)("li",{parentName:"ul"},"Click Create Token."),Object(r.b)("li",{parentName:"ul"},"You will be able to view the secret token only once. Be very careful with it as it grants unimpeded access to confidential user data."),Object(r.b)("li",{parentName:"ul"},"Securely add to your client application so that it can use the API.")),Object(r.b)("h3",{id:"use-the-api"},"Use the API"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The API documentation can be viewed at ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"http://localhost:3001/api_docs"}),"http://localhost:3001/api_docs"),"."),Object(r.b)("li",{parentName:"ul"},'You can use this page to test the API - click "Authorize" and add a Token.'),Object(r.b)("li",{parentName:"ul"},'Click on an endpoint and click "Try it out" and "Execute" to get a response.')))}d.isMDXComponent=!0},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return m}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=i.a.createContext({}),d=function(e){var t=i.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},b=function(e){var t=d(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=d(a),u=n,m=b["".concat(o,".").concat(u)]||b[u]||p[u]||r;return a?i.a.createElement(m,c(c({ref:t},s),{},{components:a})):i.a.createElement(m,c({ref:t},s))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var s=2;s<r;s++)o[s]=a[s];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);